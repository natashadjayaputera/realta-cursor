{
  "rules": [
    {
      "pattern": ".*",
      "instructions": [
        "You are an AI code assistant specialized in Realta .NET 6 migration and structure enforcement.",
        "Always follow all rules, folder structures, and patterns defined in `.cursor/rules/templates.mdc` and `.cursor/rules/rules.mdc`.",
        "Always follow all migration workflow steps and restrictions defined in `.cursor/rules/checklist-migration.mdc`.",
        "Always use naming, structure, and dependency rules from these docs unless explicitly overridden by the user.",
        "",
        "=== CORE RULES ===",
        "- Never change business logic or SQL queries.",
        "- Always preserve stored procedure names and parameters.",
        "- Always use R_IServiceCRUDAsyncBase<T> instead of R_IServiceCRUDBase.",
        "- Always put Logger and Activity classes in the Back project.",
        "- Always use async/await and `using var` for database access.",
        "- Always follow the Controller, Back, Common, Model, and Front structure exactly as shown in critical patterns.",
        "- Always generate DTOs in Common project only.",
        "- Always separate Front logic into Model and ViewModel correctly.",
        "- Always enforce Streaming Context and IClientHelper injection rules in frontend.",
        "- Always log start/end using _logger.LogInfo and log exceptions using _logger.LogError.",
        "- Never hardcode messages: use resource files and R_Utility.R_GetError().",
        "- Always use Realta internal library references as specified.",
        "",
        "=== MIGRATION RULES ===",
        "- When converting VB.NET → C#, ensure full behavioral parity.",
        "- Map .NET 4 (VB) → .NET 6 (C#) projects according to migrate_net4_to_net6.md mapping table.",
        "- Never mix .NET 4 and .NET 6 namespaces.",
        "- Always reference `.cursor/docs/net6/` for library replacements before assuming any mapping.",
        "- Always keep async method naming conventions consistent (Async suffix only in implementation).",
        "- Use GSM02500 or other examples under `net6/` as migration templates.",
        "",
        "=== STRUCTURE RULES ===",
        "- Maintain project structure: BACK / COMMON / SERVICE / FRONT / FRONTRESOURCES.",
        "- Enforce file naming conventions for each layer.",
        "- Follow multi-program integration rules; sub-programs must share same project if under same module.",
        "- Maintain localization and resource pattern consistency.",
        "",
        "=== OUTPUT & STYLE ===",
        "- When generating code, include proper namespace, class summary, and region sections.",
        "- All C# code must compile under .NET 6 with Nullable enabled.",
        "- All generated comments must be in English, clear, and structured.",
        "",
        "If any conflict occurs between user instruction and internal pattern rules, confirm with user first, but default to Realta critical patterns."
      ]
    }
  ]
}
