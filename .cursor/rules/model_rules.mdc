---
alwaysApply: false
priority: HIGH
glob: "*ToCSharpViewModel*"
---

# MODEL RULES

## Project Structure
- Location: `FRONT/{ProgramName}Model/`
- Target: `netstandard2.1`
- Purpose: Service client

## Model Pattern (Template 6)
```csharp
public class {ProgramName}Model : R_BusinessObjectServiceClientBase<{ProgramName}DTO>, I{ProgramName}
{
    private const string DEFAULT_HTTP_NAME = "R_DefaultServiceUrl{ModuleName}";
    private const string DEFAULT_SERVICEPOINT_NAME = "api/{ProgramName}";
    private const string DEFAULT_MODULE = "{ModuleName}";

    public {ProgramName}Model()
        : base(DEFAULT_HTTP_NAME, DEFAULT_SERVICEPOINT_NAME, DEFAULT_MODULE, true, true)
    {
    }

    public IAsyncEnumerable<{ResultDTO}> GetList{Description}()
    {
        throw new System.NotImplementedException();
    }

    public async Task<{ProgramName}ResultDTO<List<{ResultDTO}>>> GetList{Description}Async()
    {
        var loEx = new R_Exception();
        {ProgramName}ResultDTO<List<{ResultDTO}>> loRtn = new {ProgramName}ResultDTO<List<{ResultDTO}>>();

        try
        {
            R_HTTPClientWrapper.httpClientName = _HttpClientName;
            loRtn.Data = await R_HTTPClientWrapper.R_APIRequestStreamingObject<{ResultDTO}>(
                _RequestServiceEndPoint,
                nameof(I{ProgramName}.GetList{Description}),
                _ModuleName,
                true,
                true
            );
        }
        catch (Exception ex)
        {
            loEx.Add(ex);
        }

        loEx.ThrowExceptionIfErrors();
        return loRtn;
    }
}
```

## DLL References
```xml
<Reference Include="R_APIClient">
  <HintPath>..\..\..\..\SYSTEM\SOURCE\LIBRARY\Front\R_APIClient.dll</HintPath>
</Reference>
<Reference Include="R_BusinessObjectFront">
  <HintPath>..\..\..\..\SYSTEM\SOURCE\LIBRARY\Front\R_BusinessObjectFront.dll</HintPath>
</Reference>
<Reference Include="R_BlazorFrontEnd">
  <HintPath>..\..\..\..\SYSTEM\SOURCE\LIBRARY\Front\R_BlazorFrontEnd.dll</HintPath>
</Reference>
```